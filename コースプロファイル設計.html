<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>コースプロファイル（標高グラフ）設計書 - 日本アルプス登山情報</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">🏔️ 日本アルプス登山情報</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">ホーム</a></li>
                    <li class="nav-item"><a class="nav-link" href="#search">検索</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                            山域別
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#north">北アルプス</a></li>
                            <li><a class="dropdown-item" href="#central">中央アルプス</a></li>
                            <li><a class="dropdown-item" href="#south">南アルプス</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- 山の基本情報カード -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card border-primary">
                    <div class="card-header bg-primary text-white">
                        <h1 class="mb-0">コースプロファイル（標高グラフ）設計書</h1>
                        <small>不明 - </small>
                    </div>
                    <div class="card-header bg-light text-dark">
                        <p class="mb-0 fw-bold">🏔️ コースプロファイル（標高グラフ）設計書の魅力を発見しよう</p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3">
                                <strong>標高:</strong><br>
                                <span class="h5 text-primary"></span>
                            </div>
                            <div class="col-md-3">
                                <strong>難易度:</strong><br>
                                <span class="badge bg-secondary"></span>
                            </div>
                            <div class="col-md-3">
                                <strong>体力度:</strong><br>
                                ☆☆☆☆☆
                            </div>
                            <div class="col-md-3">
                                <strong>技術度:</strong><br>
                                ☆☆☆☆☆
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- メインコンテンツ -->
        <div class="row">
            <div class="col-lg-9">
                <div class="mountain-content">
                    <h1 id="_1">コースプロファイル（標高グラフ）設計書</h1>
<h2 id="_2">🎯 実装方針</h2>
<h3 id="_3">データ収集の現実的なアプローチ</h3>
<p>調査の結果、以下の制約が判明：
- <strong>YAMAP</strong>: 公開API無し、個人用のGPXダウンロードは可能だが限定的
- <strong>国土地理院DEM</strong>: 手動ダウンロード方式、自動化困難
- <strong>ヤマレコ</strong>: 公開API無し</p>
<p><strong>→ 手動データ収集 + 推定データ作成のハイブリッドアプローチを採用</strong></p>
<h2 id="_4">📊 実装戦略</h2>
<h3 id="1">フェーズ1: 基本データの手動収集</h3>
<p>公開情報と公式データから主要地点の標高・距離を収集</p>
<h3 id="2">フェーズ2: データ補完システム</h3>
<p>地点間の標高変化を推定・補完するアルゴリズム</p>
<h3 id="3">フェーズ3: インタラクティブグラフ</h3>
<p>Chart.js使用のWebブラウザ表示</p>
<h2 id="5">🗻 対象5山のコースプロファイル設計</h2>
<h3 id="1_1">1. 奥穂高岳（上高地〜涸沢経由）</h3>
<p><strong>主要地点データ</strong>:</p>
<pre class="codehilite"><code class="language-json">{
  &quot;mountain&quot;: &quot;奥穂高岳&quot;,
  &quot;route&quot;: &quot;上高地〜涸沢経由&quot;,
  &quot;total_distance&quot;: 10.5,
  &quot;total_elevation_gain&quot;: 1580,
  &quot;waypoints&quot;: [
    {&quot;name&quot;: &quot;上高地BT&quot;, &quot;distance&quot;: 0.0, &quot;elevation&quot;: 1510, &quot;time&quot;: &quot;06:00&quot;},
    {&quot;name&quot;: &quot;明神池&quot;, &quot;distance&quot;: 2.1, &quot;elevation&quot;: 1530, &quot;time&quot;: &quot;07:30&quot;},
    {&quot;name&quot;: &quot;徳沢ロッヂ&quot;, &quot;distance&quot;: 3.4, &quot;elevation&quot;: 1560, &quot;time&quot;: &quot;08:30&quot;},
    {&quot;name&quot;: &quot;横尾山荘&quot;, &quot;distance&quot;: 5.4, &quot;elevation&quot;: 1620, &quot;time&quot;: &quot;09:30&quot;},
    {&quot;name&quot;: &quot;本谷橋&quot;, &quot;distance&quot;: 6.8, &quot;elevation&quot;: 1850, &quot;time&quot;: &quot;11:00&quot;},
    {&quot;name&quot;: &quot;涸沢ヒュッテ&quot;, &quot;distance&quot;: 8.3, &quot;elevation&quot;: 2300, &quot;time&quot;: &quot;12:00&quot;},
    {&quot;name&quot;: &quot;ザイテングラード&quot;, &quot;distance&quot;: 9.2, &quot;elevation&quot;: 2800, &quot;time&quot;: &quot;14:00&quot;},
    {&quot;name&quot;: &quot;奥穂高岳山頂&quot;, &quot;distance&quot;: 10.5, &quot;elevation&quot;: 3190, &quot;time&quot;: &quot;15:00&quot;}
  ]
}
</code></pre>

<h3 id="2_1">2. 槍ヶ岳（上高地〜槍沢経由）</h3>
<p><strong>主要地点データ</strong>:</p>
<pre class="codehilite"><code class="language-json">{
  &quot;mountain&quot;: &quot;槍ヶ岳&quot;, 
  &quot;route&quot;: &quot;上高地〜槍沢経由&quot;,
  &quot;total_distance&quot;: 11.0,
  &quot;total_elevation_gain&quot;: 1670,
  &quot;waypoints&quot;: [
    {&quot;name&quot;: &quot;上高地BT&quot;, &quot;distance&quot;: 0.0, &quot;elevation&quot;: 1510, &quot;time&quot;: &quot;06:00&quot;},
    {&quot;name&quot;: &quot;明神池&quot;, &quot;distance&quot;: 2.1, &quot;elevation&quot;: 1530, &quot;time&quot;: &quot;07:30&quot;},
    {&quot;name&quot;: &quot;徳沢ロッヂ&quot;, &quot;distance&quot;: 3.4, &quot;elevation&quot;: 1560, &quot;time&quot;: &quot;08:30&quot;},
    {&quot;name&quot;: &quot;横尾山荘&quot;, &quot;distance&quot;: 5.4, &quot;elevation&quot;: 1620, &quot;time&quot;: &quot;09:30&quot;},
    {&quot;name&quot;: &quot;槍沢ロッヂ&quot;, &quot;distance&quot;: 7.8, &quot;elevation&quot;: 2100, &quot;time&quot;: &quot;12:00&quot;},
    {&quot;name&quot;: &quot;大曲&quot;, &quot;distance&quot;: 8.5, &quot;elevation&quot;: 2050, &quot;time&quot;: &quot;13:00&quot;},
    {&quot;name&quot;: &quot;槍ヶ岳山荘&quot;, &quot;distance&quot;: 10.2, &quot;elevation&quot;: 3020, &quot;time&quot;: &quot;15:30&quot;},
    {&quot;name&quot;: &quot;槍ヶ岳山頂&quot;, &quot;distance&quot;: 11.0, &quot;elevation&quot;: 3180, &quot;time&quot;: &quot;16:30&quot;}
  ]
}
</code></pre>

<h3 id="3_1">3. 立山/雄山（室堂〜一ノ越経由）</h3>
<p><strong>主要地点データ</strong>:</p>
<pre class="codehilite"><code class="language-json">{
  &quot;mountain&quot;: &quot;立山（雄山）&quot;,
  &quot;route&quot;: &quot;室堂〜一ノ越経由&quot;, 
  &quot;total_distance&quot;: 2.4,
  &quot;total_elevation_gain&quot;: 583,
  &quot;waypoints&quot;: [
    {&quot;name&quot;: &quot;室堂ターミナル&quot;, &quot;distance&quot;: 0.0, &quot;elevation&quot;: 2450, &quot;time&quot;: &quot;08:00&quot;},
    {&quot;name&quot;: &quot;みくりが池&quot;, &quot;distance&quot;: 0.8, &quot;elevation&quot;: 2405, &quot;time&quot;: &quot;08:15&quot;},
    {&quot;name&quot;: &quot;一ノ越&quot;, &quot;distance&quot;: 1.5, &quot;elevation&quot;: 2700, &quot;time&quot;: &quot;09:00&quot;},
    {&quot;name&quot;: &quot;雄山神社&quot;, &quot;distance&quot;: 2.2, &quot;elevation&quot;: 2992, &quot;time&quot;: &quot;09:40&quot;},
    {&quot;name&quot;: &quot;雄山山頂&quot;, &quot;distance&quot;: 2.4, &quot;elevation&quot;: 3003, &quot;time&quot;: &quot;10:00&quot;}
  ]
}
</code></pre>

<h3 id="4">4. 木曽駒ヶ岳（千畳敷経由）</h3>
<p><strong>主要地点データ</strong>:</p>
<pre class="codehilite"><code class="language-json">{
  &quot;mountain&quot;: &quot;木曽駒ヶ岳&quot;,
  &quot;route&quot;: &quot;千畳敷経由&quot;,
  &quot;total_distance&quot;: 2.5,
  &quot;total_elevation_gain&quot;: 344, 
  &quot;waypoints&quot;: [
    {&quot;name&quot;: &quot;千畳敷駅&quot;, &quot;distance&quot;: 0.0, &quot;elevation&quot;: 2612, &quot;time&quot;: &quot;08:00&quot;},
    {&quot;name&quot;: &quot;八丁坂取付&quot;, &quot;distance&quot;: 0.3, &quot;elevation&quot;: 2650, &quot;time&quot;: &quot;08:15&quot;},
    {&quot;name&quot;: &quot;乗越浄土&quot;, &quot;distance&quot;: 1.2, &quot;elevation&quot;: 2850, &quot;time&quot;: &quot;09:30&quot;},
    {&quot;name&quot;: &quot;中岳&quot;, &quot;distance&quot;: 1.8, &quot;elevation&quot;: 2925, &quot;time&quot;: &quot;10:00&quot;},
    {&quot;name&quot;: &quot;木曽駒ヶ岳山頂&quot;, &quot;distance&quot;: 2.5, &quot;elevation&quot;: 2956, &quot;time&quot;: &quot;10:30&quot;}
  ]
}
</code></pre>

<h3 id="5_1">5. 北岳（広河原〜白根御池経由）</h3>
<p><strong>主要地点データ</strong>:</p>
<pre class="codehilite"><code class="language-json">{
  &quot;mountain&quot;: &quot;北岳&quot;,
  &quot;route&quot;: &quot;広河原〜白根御池経由&quot;,
  &quot;total_distance&quot;: 7.5,
  &quot;total_elevation_gain&quot;: 1700,
  &quot;waypoints&quot;: [
    {&quot;name&quot;: &quot;広河原&quot;, &quot;distance&quot;: 0.0, &quot;elevation&quot;: 1520, &quot;time&quot;: &quot;06:00&quot;},
    {&quot;name&quot;: &quot;白根御池小屋分岐&quot;, &quot;distance&quot;: 2.8, &quot;elevation&quot;: 1950, &quot;time&quot;: &quot;08:30&quot;},
    {&quot;name&quot;: &quot;白根御池小屋&quot;, &quot;distance&quot;: 3.5, &quot;elevation&quot;: 2230, &quot;time&quot;: &quot;10:00&quot;},
    {&quot;name&quot;: &quot;草すべり&quot;, &quot;distance&quot;: 5.0, &quot;elevation&quot;: 2500, &quot;time&quot;: &quot;12:00&quot;},
    {&quot;name&quot;: &quot;小太郎尾根分岐&quot;, &quot;distance&quot;: 6.2, &quot;elevation&quot;: 2900, &quot;time&quot;: &quot;13:30&quot;},
    {&quot;name&quot;: &quot;肩の小屋&quot;, &quot;distance&quot;: 6.8, &quot;elevation&quot;: 2983, &quot;time&quot;: &quot;14:00&quot;},
    {&quot;name&quot;: &quot;北岳山頂&quot;, &quot;distance&quot;: 7.5, &quot;elevation&quot;: 3193, &quot;time&quot;: &quot;14:30&quot;}
  ]
}
</code></pre>

<h2 id="_5">🔧 技術実装</h2>
<h3 id="_6">データ補完アルゴリズム</h3>
<pre class="codehilite"><code class="language-python">def interpolate_elevation(waypoints):
    &quot;&quot;&quot;主要地点間の標高を線形補完&quot;&quot;&quot;
    interpolated_points = []

    for i in range(len(waypoints) - 1):
        start = waypoints[i]
        end = waypoints[i + 1]

        # 距離に基づく補完ポイント数を計算
        distance_diff = end[&quot;distance&quot;] - start[&quot;distance&quot;]
        points_count = max(int(distance_diff * 10), 2)  # 100m間隔

        for j in range(points_count):
            ratio = j / (points_count - 1)

            interpolated_point = {
                &quot;distance&quot;: start[&quot;distance&quot;] + (distance_diff * ratio),
                &quot;elevation&quot;: start[&quot;elevation&quot;] + 
                           (end[&quot;elevation&quot;] - start[&quot;elevation&quot;]) * ratio
            }
            interpolated_points.append(interpolated_point)

    return interpolated_points
</code></pre>

<h3 id="chartjs">Chart.jsグラフ設定</h3>
<pre class="codehilite"><code class="language-javascript">const profileConfig = {
    type: 'line',
    data: {
        datasets: [{
            label: '標高プロファイル',
            data: profileData,
            borderColor: '#2c5aa0',
            backgroundColor: 'rgba(44, 90, 160, 0.1)',
            fill: true,
            tension: 0.3
        }]
    },
    options: {
        responsive: true,
        scales: {
            x: {
                type: 'linear',
                position: 'bottom',
                title: {
                    display: true,
                    text: '距離 (km)'
                }
            },
            y: {
                title: {
                    display: true,
                    text: '標高 (m)'
                }
            }
        },
        plugins: {
            tooltip: {
                callbacks: {
                    label: function(context) {
                        return `標高: ${context.parsed.y}m, 距離: ${context.parsed.x}km`;
                    }
                }
            }
        }
    }
};
</code></pre>

<h2 id="_7">📁 ファイル構造</h2>
<pre class="codehilite"><code>共通資源/profiles/
├── 奥穂高岳/
│   ├── profile_data.json        # 主要地点データ
│   ├── interpolated_data.json   # 補完済みデータ
│   └── profile.svg              # 静的グラフ画像
├── 槍ヶ岳/
├── 立山/
├── 木曽駒ヶ岳/
├── 北岳/
└── profile_generator.py         # グラフ生成スクリプト
</code></pre>

<h2 id="html">🎨 HTMLページでの表示</h2>
<p>各山のMDファイルに以下のセクションを追加：</p>
<pre class="codehilite"><code class="language-markdown">## コースプロファイル（標高グラフ）

### 標高変化の概要
- **総距離**: 10.5km
- **獲得標高**: +1,580m / -30m
- **平均勾配**: 15.0%
- **最大勾配**: 35.0% (ザイテングラード)

&lt;div id=&quot;elevation-profile-chart&quot; class=&quot;mt-4&quot;&gt;
    &lt;!-- Chart.jsグラフがここに表示される --&gt;
&lt;/div&gt;

### 区間別詳細
| 区間 | 距離 | 標高差 | 勾配 | 特徴 |
|------|------|--------|------|------|
| 上高地→横尾 | 5.4km | +110m | 2.0% | 平坦な林道歩き |
| 横尾→涸沢 | 2.9km | +680m | 23.4% | 急登開始 |
| 涸沢→山頂 | 2.2km | +890m | 40.5% | 岩場の急登 |
</code></pre>

<hr />
<p><em>作成日: 2025-08-29</em></p>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="sidebar">
                    <div class="card">
                        <div class="card-header">
                            <h5>クイック情報</h5>
                        </div>
                        <div class="card-body">
                            <p><strong>所在地:</strong> </p>
                            <p><strong>コースタイム:</strong> </p>
                            <p><strong>ベストシーズン:</strong> </p>
                            <hr>
                            <a href="index.html" class="btn btn-outline-primary btn-sm">山一覧に戻る</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-light mt-5 py-3">
        <div class="container">
            <div class="text-center">
                <p>&copy; 2025 日本アルプス登山情報データベース</p>
                <small>登山は自己責任で。最新情報を必ず確認してください。</small>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // プロファイルデータを埋め込み
        window.PROFILE_DATA = null;
    </script>
    <script src="styles/profile-chart.js"></script>
</body>
</html>